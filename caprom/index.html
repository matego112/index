<!doctype html>
<html lang="ro">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Puterile numerelor</title>

<style>
body{
  margin:0;
  font-family:Arial, sans-serif;
  background:#f5f5f0;
}

.container{
  display:flex;
  width:100%;
  height:90vh;
}

.left, .right{
  height:100%;
  overflow:auto;
}

.left{
  width:60%;
  border-right:3px solid #CCAA77;
  padding:10px;
  box-sizing:border-box;
}

.right{
  width:40%;
  /* intenÈ›ionat goalÄƒ â€“ pui tu poza */
}

.card{
  display:flex;
  align-items:center;
  justify-content:space-between;
  width:100%;
  height:110px;
  background:#fff;
  border:3px solid #CCAA77;
  border-radius:10px;
  padding:10px;
  font-size:28px;
  box-sizing:border-box;
  margin-bottom:10px;
}

.leftExp{
  font-size:32px;
}

.right input{
  font-size:28px;
  width:80px;
  text-align:center;
  border-radius:6px;
  border:2px solid #999;
  padding:5px;
}

.correct{
  background-color:#ccffcc;
}

.wrong{
  background-color:#ffcccc;
}

.controls{
  text-align:center;
  padding:10px;
  background:#f5f5f0;
  border-top:3px solid #CCAA77;
}

button{
  background:#f5f5f0;
  color:#000066;
  padding:10px 18px;
  font-size:18px;
  border:none;
  border-radius:8px;
  cursor:pointer;
  margin:0 5px;
}

button:hover{
  background:#FFFFCC;
}
</style>
</head>

<body>

<div class="container">

  <!-- STÃ‚NGA: exerciÈ›iile -->
  <div class="left" id="exerciseContainer"></div>

  <!-- DREAPTA: GOALÄ‚ (poza o pui tu) -->
  <div class="right">
    <img src=poza0.png>
  </div>

</div>

<div class="controls">
  <button onclick="resetSlides()">Resetare ðŸ”„</button>
  <button onclick="checkAnswers()">Corectare âœ…</button>
</div>

<script>
const container = document.getElementById("exerciseContainer");
const NUM_CARDS = 10;
let slides = [];

// GENEREAZÄ‚ EXERCIÈšII NOI
function generateSlides(){
  let arr = [];

  while(arr.length < NUM_CARDS){
    let base = Math.floor(Math.random() * 4) + 1; // 1â€“4
    let exp  = Math.floor(Math.random() * 6) + 1; // 1â€“6
    let result = Math.pow(base, exp);
    let expr = `${base}^${exp}`;

    if(!arr.some(s => s.left === expr)){
      arr.push({
        left: expr,
        right: result,
        userAnswer: ""
      });
    }
  }
  return arr;
}

// CREEAZÄ‚ CASETELE
function createCards(){
  container.innerHTML = "";

  slides.forEach((s, i) => {
    const card = document.createElement("div");
    card.className = "card";
    card.innerHTML = `
      <div class="leftExp">${s.left}</div>
      <div class="right">
        <input type="number" id="input${i}">
      </div>
    `;
    container.appendChild(card);

    const input = card.querySelector("input");
    input.addEventListener("input", e => {
      s.userAnswer = e.target.value;
      input.classList.remove("correct", "wrong");
    });
  });
}

// RESETARE
function resetSlides(){
  slides = generateSlides();
  createCards();
}

// CORECTARE
function checkAnswers(){
  let correct = 0;

  slides.forEach((s, i) => {
    const input = document.getElementById(`input${i}`);
    if(Number(s.userAnswer) === s.right){
      input.classList.add("correct");
      input.classList.remove("wrong");
      correct++;
    } else {
      input.classList.add("wrong");
      input.classList.remove("correct");
    }
  });

  alert(`RÄƒspunsuri corecte: ${correct} / ${slides.length}`);
}

// START
resetSlides();
</script>

</body>
</html>
